# ë°œê²¬ëœ ë¬¸ì œì  ë° ìˆ˜ì • ì‚¬í•­

## âœ… ìˆ˜ì • ì™„ë£Œ

### 1. useEffect ì˜ì¡´ì„± ë°°ì—´ ê²½ê³  ìˆ˜ì •
**íŒŒì¼**: `hooks/useTyping.ts`
- `reset` í•¨ìˆ˜ê°€ `useCallback`ìœ¼ë¡œ ë©”ëª¨ì´ì œì´ì…˜ë˜ì–´ ìˆì–´ ì•ˆì •ì ì´ë¯€ë¡œ eslint ê²½ê³  ë¹„í™œì„±í™”
- ì‹¤ì œ ë²„ê·¸ëŠ” ì•„ë‹ˆì§€ë§Œ ê²½ê³  ì œê±°

---

## âš ï¸ ë°œê²¬ëœ ë¬¸ì œì  (ìˆ˜ì • í•„ìš”)

### ğŸ”´ ì‹¬ê° (Critical)

#### 1. Firestore ë³´ì•ˆ ê·œì¹™ ì·¨ì•½
**íŒŒì¼**: `firestore.rules`
- í˜„ì¬: ëª¨ë“  ì‚¬ìš©ìê°€ ì½ê¸° ê°€ëŠ¥ (`allow read: if true`)
- ë¬¸ì œ: ì¸ì¦ ì—†ì´ ë°ì´í„° ì½ê¸°/ì“°ê¸° ê°€ëŠ¥
- ê¶Œì¥: Firebase Authentication ë„ì… í›„ ì¸ì¦ ê¸°ë°˜ ê·œì¹™ ì ìš©

#### 2. localStorage ê¸°ë°˜ ì¸ì¦ ì·¨ì•½ì 
**ìœ„ì¹˜**: ì „ì²´ ì•±
- ë¬¸ì œ: XSS ê³µê²©ì— ì·¨ì•½, í´ë¼ì´ì–¸íŠ¸ì—ì„œë§Œ ì¸ì¦ í™•ì¸
- ê¶Œì¥: Firebase Authentication ë˜ëŠ” JWT í† í° ê¸°ë°˜ ì¸ì¦ìœ¼ë¡œ ì „í™˜

#### 3. í™˜ê²½ ë³€ìˆ˜ ê²€ì¦ ë¶€ì¡±
**íŒŒì¼**: `lib/firebase.ts`
- ë¬¸ì œ: Firebase í™˜ê²½ ë³€ìˆ˜ê°€ ì—†ì–´ë„ ì•± ì‹¤í–‰ë¨
- ê¶Œì¥: ì•± ì‹œì‘ ì‹œ í•„ìˆ˜ í™˜ê²½ ë³€ìˆ˜ ê²€ì¦ ì¶”ê°€

### ğŸŸ¡ ì¤‘ê°„ (Warning)

#### 4. íƒ€ì… ì •ì˜ ì¤‘ë³µ
**íŒŒì¼**: `lib/auth.ts`, `lib/storage.ts`
- ë¬¸ì œ: `User` ì¸í„°í˜ì´ìŠ¤ê°€ ë‘ íŒŒì¼ì— ì¤‘ë³µ ì •ì˜, í•„ë“œ ë¶ˆì¼ì¹˜
- ê¶Œì¥: `types/index.ts`ì— í†µí•©

#### 5. ì—ëŸ¬ ì²˜ë¦¬ ë¶€ì¡±
**íŒŒì¼**: `app/practice/[mode]/page.tsx`
- ë¬¸ì œ: Firestore ì €ì¥ ì‹¤íŒ¨ ì‹œ ì‚¬ìš©ì ì•Œë¦¼ ì—†ìŒ
- ê¶Œì¥: try-catchë¡œ ì—ëŸ¬ ì²˜ë¦¬ ë° ì‚¬ìš©ì ì•Œë¦¼ ì¶”ê°€

#### 6. ê¸°ë³¸ ë¹„ë°€ë²ˆí˜¸ ë³´ì•ˆ
**íŒŒì¼**: `app/api/auth/route.ts`
- ë¬¸ì œ: ê¸°ë³¸ ë¹„ë°€ë²ˆí˜¸ í•˜ë“œì½”ë”© (1234, 2026)
- ê¶Œì¥: í™˜ê²½ ë³€ìˆ˜ í•„ìˆ˜ë¡œ ë³€ê²½, ê¸°ë³¸ê°’ ì œê±°

### ğŸŸ¢ ê²½ë¯¸ (Minor)

#### 7. ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” íŒŒì¼
- `app/test/page.tsx`: í…ŒìŠ¤íŠ¸ í˜ì´ì§€
- `app/(auth)/signup/`: ë¹ˆ ë””ë ‰í† ë¦¬

#### 8. ì½”ë“œ ì¤‘ë³µ
- `getCurrentUser` í•¨ìˆ˜ ì¤‘ë³µ
- User íƒ€ì… ì •ì˜ ì¤‘ë³µ

#### 9. ì ‘ê·¼ì„± ê°œì„  í•„ìš”
- í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜ ë¶€ì¡±
- ARIA ë¼ë²¨ ë¶€ì¡±
- ìŠ¤í¬ë¦° ë¦¬ë” ì§€ì› ë¯¸í¡

---

## ğŸ“‹ ìš°ì„ ìˆœìœ„ë³„ ìˆ˜ì • ê°€ì´ë“œ

### Priority 1 (ì¦‰ì‹œ ìˆ˜ì •)
1. Firestore ë³´ì•ˆ ê·œì¹™ ê°•í™”
2. í™˜ê²½ ë³€ìˆ˜ ê²€ì¦ ì¶”ê°€
3. ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”

### Priority 2 (ë‹¨ê¸° ê°œì„ )
4. íƒ€ì… ì •ì˜ í†µí•©
5. ê¸°ë³¸ ë¹„ë°€ë²ˆí˜¸ ì œê±°
6. ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” íŒŒì¼ ì •ë¦¬

### Priority 3 (ì¤‘ì¥ê¸° ê°œì„ )
7. ì¸ì¦ ì‹œìŠ¤í…œ ê°œì„  (Firebase Auth)
8. ì ‘ê·¼ì„± ê°œì„ 
9. í…ŒìŠ¤íŠ¸ ì½”ë“œ ì‘ì„±

---

## ğŸ”§ ìˆ˜ì • ì˜ˆì‹œ ì½”ë“œ

### í™˜ê²½ ë³€ìˆ˜ ê²€ì¦ ì¶”ê°€
```typescript
// lib/firebase.tsì— ì¶”ê°€
const requiredEnvVars = [
    'NEXT_PUBLIC_FIREBASE_API_KEY',
    'NEXT_PUBLIC_FIREBASE_PROJECT_ID'
];

const missingVars = requiredEnvVars.filter(
    varName => !process.env[varName]
);

if (missingVars.length > 0 && typeof window === 'undefined') {
    console.error('Missing required environment variables:', missingVars);
}
```

### ì—ëŸ¬ ì²˜ë¦¬ ê°•í™”
```typescript
// app/practice/[mode]/page.tsx
try {
    const result = await saveResultToFirestore({...});
    if (!result.success) {
        showToast('ê²°ê³¼ ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.', 'error');
    }
} catch (error) {
    console.error('Failed to save result:', error);
    showToast('ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.', 'error');
}
```

---

**ì‘ì„±ì¼**: 2024ë…„  
**ìƒíƒœ**: ë¶„ì„ ì™„ë£Œ, ì¼ë¶€ ìˆ˜ì • ì™„ë£Œ
